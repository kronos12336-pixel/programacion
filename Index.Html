<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Carta con Corazones</title>
<style>
  body {
    background: #ffe3ea;
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: Arial, sans-serif;
    padding: 50px;
    overflow-x: hidden;
  }

  h1 {
    margin-bottom: 20px;
  }

  /* Contenedor del sobre */
  .sobre {
    position: relative;
    width: 300px;
    height: 200px;
    perspective: 1000px;
    cursor: pointer;
  }

  /* Cuerpo de la carta */
  .cuerpo {
    width: 100%;
    height: 100%;
    background: white;
    border: 2px solid #ff5a76;
    border-radius: 0 0 10px 10px;
    padding: 20px;
    box-sizing: border-box;
    overflow: hidden;
  }

  /* Tapa del sobre */
  .tapa {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #ff5a76;
    transform-origin: top;
    transition: transform 0.8s ease;
    border-radius: 0 0 10px 10px;
    z-index: 2;
  }

  /* Animación al abrir */
  .sobre.abierto .tapa {
    transform: rotateX(-180deg);
  }

  /* Texto dentro */
  .mensaje {
    opacity: 0;
    transition: opacity 0.8s ease 0.8s;
  }

  .sobre.abierto .mensaje {
    opacity: 1;
  }

  /* Corazones */
  .corazon {
    position: fixed;
    bottom: 0;
    font-size: 24px;
    animation: subir 4s linear forwards;
    pointer-events: none;
  }

  @keyframes subir {
    0% { transform: translateY(0) scale(1); opacity: 1; }
    100% { transform: translateY(-600px) scale(1.5); opacity: 0; }
  }

.tulipan{
  position: fixed;
  bottom: 20px;
  width: 120px; height: 220px;
  pointer-events: none; /* no tapa tus clics */
  z-index: 0; /* súbelo si quieres encima del sobre */
  animation: sway 4.5s ease-in-out infinite;
  transform-origin: bottom center;
  filter: drop-shadow(0 6px 10px rgba(0,0,0,.15));
}
.tulipan.right{ right: 20px; }
.tulipan.left{ left: 20px; }

@keyframes sway{
  0%,100%{ transform: rotate(0deg); }
  50%    { transform: rotate(2.2deg); }
}

/* Tallo */
.tulipan .stem{
  position: absolute; left: 50%; bottom: 0;
  width: 10px; height: 150px; transform: translateX(-50%);
  background: linear-gradient(#2e9d52,#167a3a);
  border-radius: 8px;
}

/* Hojas */
.tulipan .leaf{
  position: absolute; bottom: 70px; width: 80px; height: 38px;
  background: linear-gradient(90deg, #2fb66b, #1f8a50);
  border-radius: 80% 20% 80% 20% / 80% 20% 80% 20%;
  opacity: .95;
}
.tulipan .leaf.l{
  left: -10px; transform: rotate(-18deg); transform-origin: right center;
}
.tulipan .leaf.r{
  right: -10px; transform: rotate(18deg) scaleX(-1); transform-origin: left center;
}

/* Flor */
.tulipan .flower{
  position: absolute; left: 50%; bottom: 140px; transform: translateX(-50%);
  width: 76px; height: 76px;
}

/* Pétalos: 3 formas superpuestas */
.tulipan .petal{
  position: absolute; bottom: 0; left: 50%;
  width: 48px; height: 70px; transform: translateX(-50%);
  background: radial-gradient(60% 80% at 50% 30%, #ff9ab3, #ff5a76 70%, #e53c59 100%);
  border-radius: 50% 50% 40% 40% / 60% 60% 40% 40%;
  box-shadow: inset 0 -8px 12px rgba(0,0,0,.08);
}
.tulipan .petal.p1{ z-index: 3; }
.tulipan .petal.p2{
  z-index: 2; transform: translateX(-50%) rotate(-22deg);
  left: 34%;
}
.tulipan .petal.p3{
  z-index: 2; transform: translateX(-50%) rotate(22deg);
  left: 66%;
}

/* Detalle del cáliz (base de la flor) */
.tulipan .flower::after{
  content:""; position:absolute; bottom:-6px; left:50%; transform:translateX(-50%);
  width: 26px; height: 16px; background:#1f8a50; border-radius: 50% 50% 0 0;
}
</style>
</head>
<body>

<h1>Una carta para la mas hermosa💌</h1>

<div class="sobre" id="sobre">
  <div class="tapa"></div>
  <div class="cuerpo">
    <p class="mensaje">
    “However far away, I will always love you <br>
     However long I stay, I will always love you <br>
     whatever words I say, I will always love you <br>
     girl with beautiful brown eyes"

  </div>
</div>

<script>
  const sobre = document.getElementById('sobre');

  sobre.addEventListener('click', () => {
    sobre.classList.toggle('abierto');

    if (sobre.classList.contains('abierto')) {
      lanzarCorazones();
    }
  });

  function lanzarCorazones() {
    for (let i = 0; i < 15; i++) {
      setTimeout(() => {
        crearCorazon();
      }, i * 300);
    }
  }

  function crearCorazon() {
    const corazon = document.createElement('div');
    corazon.classList.add('corazon');
    corazon.textContent = '❤️';
    corazon.style.left = Math.random() * 100 + 'vw';
    corazon.style.fontSize = (20 + Math.random() * 20) + 'px';
    document.body.appendChild(corazon);

    setTimeout(() => {
      corazon.remove();
    }, 4000);
  }
</script>

</body>
</html>